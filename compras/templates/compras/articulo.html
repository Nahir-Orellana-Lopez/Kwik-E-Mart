{% extends "compras/base.html" %}
{% load static %}
<br/>
{% block contenidoQueCambia %}
  <h1>Detalles del Articulo</h1>
  <table>
    <thead>
      <tr>
        <th>Categorias</th>
        <th>Imagen</th>
        <th>Nombre</th>
        <th>Marca</th>
        <th>Precio Unitario</th>
        <th>Stock</th>
        <th>Disponible</th>
        <th>Acci√≥n</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>{{articulo.categorias}}</td>
        <td>
          {% if articulo.imagen %}
            <img width="100" src="{{ articulo.imagen.url }}"/>
          {% else %}
            <img width="100" src="{% static 'compras/assets/img/no-image.png' %}"/>
          {% endif %}
        </td>
        <td>{{articulo.nombre}}</td>
        <td>{{articulo.marca}}</td>
        <td>{{articulo.precio_unitario}}</td>
        <td>{{articulo.stock}}</td>
        <td>{{articulo.disponible}}</td>
        <td>
          <div style="display: flex; justify-content: space-between; gap: 0.5rem">
            {% if request.user.is_authenticated and request.user.is_staff %}
              <a href="{% url 'EditarArticulo' articulo.id %}" style="width: 100%">
                <div class="botonInfo">Editar</div>
              </a>
              <a href="{% url 'EliminarArticulo' articulo.id %}" style="width: 100%">
                <div class="botonPeligro">Eliminar</div>
              </a>
            {% endif %}
            {% if request.user.is_authenticated and not request.user.is_staff and articulo.disponible %}
              <form action="/compras/carrito/agregar/{{a.id}}" method="POST">
                {% csrf_token %}
                <input type="number" name="cantidad" id="cantidad" value="1" min="1" max="{{a.stock}}"/>
                <input class="botonSeguro" type="submit" value="Agregar"/>
              </form>
            {% endif %}
          </div>
        </td>
      </tr>
    </tbody>
  </table>
{% endblock %}
